{"ast":null,"code":"import { ethers } from \"ethers\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nlet web3Modal;\nlet provider;\nlet tokenInstance;\nlet contractAddress = '0x6954579a3dBe6737897B00007CC5cC3cd84f9ec7';\nlet abi = [{\n  \"inputs\": [],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"constructor\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"owner\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": false,\n    \"internalType\": \"uint256\",\n    \"name\": \"value\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Approval\",\n  \"type\": \"event\"\n}, {\n  \"anonymous\": false,\n  \"inputs\": [{\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"from\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": true,\n    \"internalType\": \"address\",\n    \"name\": \"to\",\n    \"type\": \"address\"\n  }, {\n    \"indexed\": false,\n    \"internalType\": \"uint256\",\n    \"name\": \"value\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"Transfer\",\n  \"type\": \"event\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"owner\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"allowance\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\",\n  \"constant\": true\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"approve\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"account\",\n    \"type\": \"address\"\n  }],\n  \"name\": \"balanceOf\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\",\n  \"constant\": true\n}, {\n  \"inputs\": [],\n  \"name\": \"decimals\",\n  \"outputs\": [{\n    \"internalType\": \"uint8\",\n    \"name\": \"\",\n    \"type\": \"uint8\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\",\n  \"constant\": true\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"subtractedValue\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"decreaseAllowance\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"spender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"addedValue\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"increaseAllowance\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [],\n  \"name\": \"name\",\n  \"outputs\": [{\n    \"internalType\": \"string\",\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\",\n  \"constant\": true\n}, {\n  \"inputs\": [],\n  \"name\": \"symbol\",\n  \"outputs\": [{\n    \"internalType\": \"string\",\n    \"name\": \"\",\n    \"type\": \"string\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\",\n  \"constant\": true\n}, {\n  \"inputs\": [],\n  \"name\": \"totalSupply\",\n  \"outputs\": [{\n    \"internalType\": \"uint256\",\n    \"name\": \"\",\n    \"type\": \"uint256\"\n  }],\n  \"stateMutability\": \"view\",\n  \"type\": \"function\",\n  \"constant\": true\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"recipient\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"transfer\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}, {\n  \"inputs\": [{\n    \"internalType\": \"address\",\n    \"name\": \"sender\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"address\",\n    \"name\": \"recipient\",\n    \"type\": \"address\"\n  }, {\n    \"internalType\": \"uint256\",\n    \"name\": \"amount\",\n    \"type\": \"uint256\"\n  }],\n  \"name\": \"transferFrom\",\n  \"outputs\": [{\n    \"internalType\": \"bool\",\n    \"name\": \"\",\n    \"type\": \"bool\"\n  }],\n  \"stateMutability\": \"nonpayable\",\n  \"type\": \"function\"\n}];\nlet selectedAccount;\nexport function Init() {\n  const providerOptions = {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        rpc: {\n          1: \"http://127.0.0.1:9545/\"\n        }\n      }\n    }\n  };\n  web3Modal = new Web3Modal({\n    network: 'localhost',\n    cacheProvider: true,\n    providerOptions: providerOptions\n  });\n  console.log(\"Web3modal instance is: \" + web3Modal);\n}\n_c = Init;\n;\nexport async function onConnect() {\n  console.log(\"Opening a dialog...\");\n\n  try {\n    provider = await web3Modal.connect();\n    const providerEth = new ethers.providers.JsonRpcProvider(\"http://localhost:9545\"); //const signer = providerEth.getSigner()\n\n    tokenInstance = new ethers.Contract(contractAddress, abi, providerEth);\n  } catch (error) {\n    console.log(\"Could not connect to wallet\", error);\n  } // Subscribe to accounts change\n\n\n  provider.on(\"accountsChanged\", accounts => {\n    console.log(accounts);\n    selectedAccount = accounts[0];\n    console.log(\"Selected account is:\" + selectedAccount);\n  }); // Subscribe to chainId change\n\n  provider.on(\"chainChanged\", chainId => {\n    console.log(chainId);\n  }); // Subscribe to provider connection\n\n  provider.on(\"connect\", info => {\n    console.log(info);\n  }); // Subscribe to provider disconnection\n\n  provider.on(\"disconnect\", error => {\n    console.log(error);\n  });\n}\nexport function TokenInstance() {\n  return tokenInstance;\n}\n_c2 = TokenInstance;\nexport async function getAccounts() {\n  return provider.listAccounts();\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Init\");\n$RefreshReg$(_c2, \"TokenInstance\");","map":{"version":3,"sources":["/Users/ibrahimacamara/Projects/Blockchain/DecentralizedExchange/dex-app/src/services/EthereumConnexion.js"],"names":["ethers","Web3Modal","WalletConnectProvider","web3Modal","provider","tokenInstance","contractAddress","abi","selectedAccount","Init","providerOptions","walletconnect","package","options","rpc","network","cacheProvider","console","log","onConnect","connect","providerEth","providers","JsonRpcProvider","Contract","error","on","accounts","chainId","info","TokenInstance","getAccounts","listAccounts"],"mappings":"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","sourcesContent":["import { ethers } from \"ethers\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\n\nlet web3Modal;\nlet provider;\nlet tokenInstance;\nlet contractAddress = '0x6954579a3dBe6737897B00007CC5cC3cd84f9ec7';\nlet abi = [\n  {\n    \"inputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"allowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"decimals\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint8\",\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"subtractedValue\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"decreaseAllowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"addedValue\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"increaseAllowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\",\n    \"constant\": true\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"recipient\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"sender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"recipient\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n];\nlet selectedAccount;\n\nexport function Init() {\n\n  const providerOptions = {\n    walletconnect: {\n      package: WalletConnectProvider,\n      options: {\n        rpc: {\n          1: \"http://127.0.0.1:9545/\"\n        }\n      }\n    }\n  };\n  web3Modal = new Web3Modal({\n    network: 'localhost',\n    cacheProvider: true,\n    providerOptions: providerOptions\n  });\n\n  console.log(\"Web3modal instance is: \" + web3Modal);\n};\n\nexport async function onConnect() {\n  console.log(\"Opening a dialog...\");\n\n  try {\n\n    provider = await web3Modal.connect();\n    const providerEth = new ethers.providers.JsonRpcProvider(\"http://localhost:9545\");\n    //const signer = providerEth.getSigner()\n    tokenInstance = new ethers.Contract(contractAddress, abi, providerEth);\n\n  } catch (error) {\n    console.log(\"Could not connect to wallet\", error);\n  }\n\n  // Subscribe to accounts change\n  provider.on(\"accountsChanged\", (accounts) => {\n    console.log(accounts);\n    selectedAccount = accounts[0];\n    console.log(\"Selected account is:\"+selectedAccount);\n  });\n\n  // Subscribe to chainId change\n  provider.on(\"chainChanged\", (chainId) => {\n    console.log(chainId);\n  });\n\n  // Subscribe to provider connection\n  provider.on(\"connect\", (info) => {\n    console.log(info);\n  });\n\n  // Subscribe to provider disconnection\n  provider.on(\"disconnect\", (error) => {\n    console.log(error);\n  });\n}\n\nexport function TokenInstance(){\n  return tokenInstance;\n}\n\nexport async function getAccounts(){\n   return provider.listAccounts();\n}"]},"metadata":{},"sourceType":"module"}